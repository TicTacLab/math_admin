[% extends "layout.html" %]
[% block body %]

<!-- Modal -->
<div class="modal fade" id="upload-model-details" tabindex="-1" role="dialog" aria-labelledby="uploadModelDetails">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="uploadModelDetails">Upload Model</h4>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#upload-model-in">Next</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="upload-model-in" tabindex="-1" role="dialog" aria-labelledby="uploadModelIn">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="uploadModelIn">Select In Cells</h4>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" data-toggle="modal" data-target="#upload-model-details">Back</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#upload-model-out">Next</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="upload-model-out" tabindex="-1" role="dialog" aria-labelledby="uploadModelOut">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="uploadModelOut">Select Out Cells</h4>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" data-toggle="modal" data-target="#upload-model-in">Back</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#upload-model-review">Next</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="upload-model-review" tabindex="-1" role="dialog" aria-labelledby="uploadModelReview">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="uploadModelReview">Review and Upload</h4>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" data-toggle="modal" data-target="#upload-model-out">Back</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">Upload</button>
            </div>
        </div>
    </div>
</div>
<h1>Models</h1>
[% if admin? %]
<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#upload-model-details">Upload New</button>
[% endif %]
<table class="table table-hover">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>File Name</th>
        <th>In Sheet Name</th>
        <th>Out Sheet Name</th>
        <th>Last Modified</th>
        <th>Actions</th>
    </tr>
    [% for model in models %]
    <tr class="model" data-rev="[[model.rev]]" data-id="[[model.id]]">
        <td class="model-id">[[model.id]]</td>
        <td class="model-name">[[model.name]]</td>
        <td class="model-file-name">[[model.file_name]]</td>
        <td class="model-in-sheet-name">[[model.in_sheet_name]]</td>
        <td class="model-out-sheet-name">[[model.out_sheet_name]]</td>
        <td class="model-last-modified">[[model.last_modified]]</td>
        <td>
          <form action="/models/[[model.id|u]]" method="POST" class="form-inline">
            <div class="btn-group">
                <a class="btn btn-primary" href="/models/[[model.id|u]]/[[model.rev|u]]/profile">Profile</a>
                [% if admin? %]
                <a class="btn btn-default confirmable" href="/models/[[model.id|u]]/download">Download</a>
                <a class="btn btn-default" href="/models/[[model.id|u]]/edit">Replace</a>
                <input type="hidden" name="_method" value="DELETE"/>
                <button type="submit" class="btn btn-danger confirmable">Delete</button>
                [% endif %]
            </div>
          </form>
        </td>
    </tr>
    [% endfor %]
</table>

[% endblock %]

[% block scripts %]
<script asrc="/js/models/index.js" type="text/javascript"></script>
[% endblock %]

