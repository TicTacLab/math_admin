[% extends "layout.html" %]
[% block body %]
<h1>Files</h1>
[% if admin? %]
<a href="/sengine/files/upload" class="btn btn-primary btn-lg">Upload New</a>
[% endif %]
[% if files %]
  <table class="table table-hover">
    <tr>
      <th>ID</th>
      <th>File Name</th>
      <th>Last Modified</th>
      <th>Actions</th>
    </tr>
    [% for file in files %]
    <tr class="model" data-id="[[file.id]]">
      <td class="model-id">[[file.id]]</td>
      <td class="model-file-name">[[file.file-name]]</td>
      <td class="model-last-modified">[[file.last-modified]]</td>
      <td>
        <form action="/sengine/files/[[file.id|u]]" method="POST" class="form-inline">
          <div class="btn-group">
            <a class="btn btn-primary" href="/sengine/files/[[file.id|u]]/profile">Profile</a>
            [% if admin? %]
            <a class="btn btn-default confirmable" href="/sengine/files/[[file.id|u]]/download">Download</a>
            <a class="btn btn-default" href="/sengine/files/[[file.id|u]]/edit">Edit</a>
            <input type="hidden" name="_method" value="DELETE"/>
            <button type="submit" class="btn btn-danger confirmable">Delete</button>
            [% endif %]
          </div>
        </form>
      </td>
    </tr>
    [% endfor %]
  </table>
[% endif %]

<script src="/js/models/index.js" type="text/javascript"></script>
[% endblock %]
